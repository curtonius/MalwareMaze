using System.IO;
using System.Xml;
using System.Xml.Serialization;
using UnityEngine;

//Create a save file
[XmlRoot("SaveFile")]
public class SaveFile
{
    [XmlAttribute("Highscore")]
    public int highscore;
}

public static class Highscore 
{
    //Create static references to highscore and the save file
	public static int highscore;
    public static SaveFile saveFile = new SaveFile();

    //Save the information to an XML file
    public static void Save()
    {
        saveFile.highscore = highscore;

        FileStream fileStream = new FileStream(Application.dataPath + "/SaveFile.xml", FileMode.Create);
        XmlSerializer xmlSerializer = new XmlSerializer(typeof(SaveFile));
        xmlSerializer.Serialize(fileStream, saveFile);
        fileStream.Close();
    }

    //Load the information from an XML file
    public static void Load()
    {
        if (File.Exists(Application.dataPath + "/SaveFile.xml"))
        {
            FileStream fileStream = new FileStream(Application.dataPath + "/SaveFile.xml", FileMode.Open);
            XmlSerializer xmlSerializer = new XmlSerializer(typeof(SaveFile));
            saveFile = (SaveFile)xmlSerializer.Deserialize(fileStream);
            fileStream.Close();

            highscore = saveFile.highscore;
        }
    }
}
