using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class MainMenuCamera : MonoBehaviour 
{
	//Speed of camera
	public float speed = 5;
	public MazeGenerator mazeGenerator;
	private float newY = 10;

	// Update is called once per frame
	void Start () 
	{

		//Move camera around the maze in the main menu
		StartCoroutine(Move());
	}

	IEnumerator Move()
	{
		int dirX = -1;
		int dirY = 1;
		float t = 0;
		while(gameObject)
		{
			Vector3 originalPosition = transform.position;
			Vector3 newPosition = transform.position + new Vector3(0, 0, (mazeGenerator.length/2) * 2 * dirX);
			t = 0;

			while (t < speed)
			{
				t += Time.deltaTime;
				transform.position = Vector3.Lerp(originalPosition, newPosition, t / speed);
				yield return null;
			}

			dirX *= -1;
			originalPosition = transform.position;
			newPosition = transform.position + new Vector3((mazeGenerator.length / 2) * 2 * dirY, 0, 0);
			t = 0;

			while (t < speed)
			{
				t += Time.deltaTime;
				transform.position = Vector3.Lerp(originalPosition, newPosition, t / speed);
				yield return null;
			}

			dirY *= -1;
			originalPosition = transform.position;
			newPosition = transform.position + new Vector3(0, 0, (mazeGenerator.length / 2) * 2 * dirX);
			t = 0;

			while (t < speed)
			{
				t += Time.deltaTime;
				transform.position = Vector3.Lerp(originalPosition, newPosition, t / speed);
				yield return null;
			}

			dirX *= -1;
			originalPosition = transform.position;
			newPosition = transform.position + new Vector3((mazeGenerator.length / 2) * 2 * dirY, 0, 0);
			t = 0;

			while (t < speed)
			{
				t += Time.deltaTime;
				transform.position = Vector3.Lerp(originalPosition, newPosition, t / speed);
				yield return null;
			}

			dirY *= -1;
			t = 0;


			yield return null;
		}
		
		yield return null;
	}
}
